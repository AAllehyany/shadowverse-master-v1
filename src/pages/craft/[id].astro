---
import { getAllDecksByCraft } from "../../api";
import DeckRow from "../../components/DeckRow.astro";
import Layout from "../../layouts/Layout.astro";

const {id} = Astro.params;
const dbId = (id as string).toLocaleLowerCase();
const decks = await getAllDecksByCraft(dbId);
const imageUrl = `https://s3.ca-central-1.wasabisys.com/shadow-master/craft-thumbnails/${dbId}.png`
---

<Layout title="All decks">
  <div class="w-full max-w-screen-md mx-auto">
    
    <div class="mt-8">
      <h1 class="text-accent font-oswald text-lg mb-3">{id} Decks</h1>
    </div>
    <div class="border border-secondary mt-8 rounded-lg">
      <h1 class="rounded-t-lg text-white bg-secondary p-3 font-oswald text-2xl">{id} Decks In Celestial Dragonblade</h1>

      {decks.map(d => <DeckRow craft={d.craft} title={d.title} link={d.deck_link} />)}
    </div>
  </div>
</Layout>